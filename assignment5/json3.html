<!DOCTYPE html>
<html>
<head>
    <title>json 3</title>
</head>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <form id="genre-form">
        <select id="genre-select"></select>
        <button type="submit">Filter</button>
    </form>
    <div id="song-list"></div>

    <script>
    $(document).ready(function(){

        $.get("songs.json", function(data) {
            var songs = data;

            var genres = [...new Set(songs.map(song => song.genre))];
            $('#genre-select').html(genres.map(genre => `<option value="${genre}">${genre}</option>`).join(''));

            $('#genre-form').on('submit', function(e) {
                e.preventDefault(); // need this to stop the page from reloading whenever we click submit
                var selectedGenre = $('#genre-select').val();
                var filteredSongs = songs.filter(song => song.genre === selectedGenre);
                $('#song-list').html(filteredSongs.map(song => `<p>${song.title}</p>`).join(''));
            });
        });
    });
    </script>
</body>
</html>